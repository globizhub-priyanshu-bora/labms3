import{c as w,r as d,j as e,B as A,l as $,a as R}from"./main-C_N36mCL.js";import{u as L}from"./index.esm-BEiQYCWW.js";import{L as a}from"./label-Bxx3OM0m.js";import{A as U,U as B}from"./user-BONzoMbs.js";import{M as E,P as D}from"./phone-7wDioKcx.js";const T=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],g=w("eye-off",T);const F=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p=w("eye",F);const G=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],f=w("lock",G),J="/assets/bgimage-C68Ti84X.jpg";function K(){const[i,y]=d.useState(!0),[l,m]=d.useState(!1),[x,b]=d.useState(!1),[j,n]=d.useState(""),[N,u]=d.useState(""),{register:v,handleSubmit:M,formState:{errors:h,isSubmitting:S},reset:C}=L(),{register:c,handleSubmit:q,formState:{errors:t,isSubmitting:k},reset:P,watch:I}=L(),Z=async r=>{try{n("");const s=await $({data:r});let o;s instanceof Response?o=await s.json():o=s,o.success&&(!o.user.hasCompletedSetup||!o.user.labId?window.location.href="/lab-setup":window.location.href="/lab-management")}catch(s){n(s instanceof Error?s.message:"Login failed. Please try again.")}},_=async r=>{try{n(""),u("");const s=r.phoneNumber?parseInt(r.phoneNumber.replace(/\D/g,"")):void 0;(await R({data:{...r,phoneNumber:s}})).success&&(u("Registration successful! Please login to complete lab setup."),P(),m(!1),b(!1),setTimeout(()=>{y(!0),u("")},2e3))}catch(s){n(s instanceof Error?s.message:"Registration failed. Please try again.")}},z=()=>{y(!i),n(""),u(""),C(),P(),m(!1),b(!1)};return e.jsxs("div",{className:"min-h-screen relative flex items-center justify-center p-4",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:J,alt:"Medical Laboratory",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/70 to-indigo-900/70"})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-full mb-4 shadow-lg",children:e.jsx(U,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h1",{className:"text-white text-4xl font-bold mb-2",children:"GlobPathology"}),e.jsx("p",{className:"text-white/90 text-lg",children:i?"Welcome Back":"Get Started Today"})]}),e.jsxs("div",{className:"backdrop-blur-md bg-white/10 border border-white/20 shadow-2xl rounded-2xl p-8",children:[N&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800",children:N})}),j&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:j})}),i?e.jsxs("form",{onSubmit:M(Z),className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx(a,{className:"block text-sm font-semibold text-white mb-2",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",...v("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 bg-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"your.email@example.com"})]}),h.email&&e.jsx("p",{className:"text-red-300 text-xs mt-1",children:h.email.message})]}),e.jsxs("div",{children:[e.jsx(a,{className:"block text-sm font-semibold text-white mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:l?"text":"password",...v("password",{required:"Password is required"}),className:"w-full pl-11 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-white",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>m(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?e.jsx(g,{className:"w-5 h-5"}):e.jsx(p,{className:"w-5 h-5"})})]}),h.password&&e.jsx("p",{className:"text-red-300 text-xs mt-1",children:h.password.message})]}),e.jsx(A,{type:"submit",disabled:S,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-lg transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:S?"Signing in...":"Sign In"})]}):e.jsxs("form",{onSubmit:q(_),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{className:"block text-sm font-semibold text-white mb-2",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",...c("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-white",placeholder:"John Doe"})]}),t.name&&e.jsx("p",{className:"text-red-300 text-xs mt-1",children:t.name.message})]}),e.jsxs("div",{children:[e.jsx(a,{className:"block text-sm font-semibold text-white mb-2",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",...c("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full pl-11 pr-4 py-3 border border-gray-300 bg-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"your.email@example.com"})]}),t.email&&e.jsx("p",{className:"text-red-300 text-xs mt-1",children:t.email.message})]}),e.jsxs("div",{children:[e.jsx(a,{className:"block text-sm font-semibold text-white mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"tel",...c("phoneNumber"),className:"w-full pl-11 pr-4 py-3 border border-gray-300 bg-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"1234567890"})]})]}),e.jsxs("div",{children:[e.jsx(a,{className:"block text-sm font-semibold text-white mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:l?"text":"password",...c("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#])[A-Za-z\d@$!%*?&#]/,message:"Password must contain uppercase, lowercase, number, and special character"}}),className:"w-full pl-11 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-white",placeholder:"Enter password"}),e.jsx("button",{type:"button",onClick:()=>m(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?e.jsx(g,{className:"w-5 h-5"}):e.jsx(p,{className:"w-5 h-5"})})]}),t.password&&e.jsx("p",{className:"text-red-300 text-xs mt-1",children:t.password.message})]}),e.jsxs("div",{children:[e.jsx(a,{className:"block text-sm font-semibold text-white mb-2",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:x?"text":"password",...c("confirmPassword",{required:"Please confirm your password",validate:r=>r===I("password")||"Passwords do not match"}),className:"w-full pl-11 pr-12 py-3 border border-gray-300 bg-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Confirm password"}),e.jsx("button",{type:"button",onClick:()=>b(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?e.jsx(g,{className:"w-5 h-5"}):e.jsx(p,{className:"w-5 h-5"})})]}),t.confirmPassword&&e.jsx("p",{className:"text-red-300 text-xs mt-1",children:t.confirmPassword.message})]}),e.jsx("div",{className:"p-3 bg-blue-900/30 border border-blue-400/30 rounded-lg backdrop-blur-sm",children:e.jsxs("p",{className:"text-xs text-white/90",children:[e.jsx("strong",{children:"Note:"})," After registration, you'll be prompted to complete your lab setup with details like registration number, address, etc."]})}),e.jsx(A,{type:"submit",disabled:k,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-lg transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:k?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-white/90",children:[i?"Don't have an account?":"Already have an account?",e.jsx("button",{onClick:z,type:"button",className:"ml-2 text-white font-semibold hover:text-blue-200 transition-colors underline",children:i?"Sign Up":"Sign In"})]})})]})]})]})}export{K as component};
